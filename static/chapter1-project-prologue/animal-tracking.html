<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <title>animal-tracking - My Project</title>
    <meta name="description" content="My Stylish Documentation">
    <meta name="author" content="I, Me & Myself">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <link rel="icon" href="../themes/daux/img/favicon-blue.png" type="image/x-icon">

    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    
    <!-- CSS -->
    <link href='../themes/daux/css/theme-blue.min.css' rel='stylesheet' type='text/css'>
            <!-- Tipue Search -->
        <link href="../tipuesearch/tipuesearch.css" rel="stylesheet">
    
    <!--[if lt IE 9]>
    <script src="../themes/daux/js/html5shiv-3.7.3.min.js"></script>
    <![endif]-->
</head>
<body class=" ">
    <div class="Columns content">
    <aside class="Columns__left Collapsible">
        <button type="button" class="Button Collapsible__trigger">
            <span class="Collapsible__trigger__bar"></span>
            <span class="Collapsible__trigger__bar"></span>
            <span class="Collapsible__trigger__bar"></span>
        </button>

        <a class="Brand" href="../index.html">My Project</a>

    <div class="Search">
        <svg class="Search__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451 451">
            <path d="M447.05 428l-109.6-109.6c29.4-33.8 47.2-77.9 47.2-126.1C384.65 86.2 298.35 0 192.35 0 86.25 0 .05 86.3.05 192.3s86.3 192.3 192.3 192.3c48.2 0 92.3-17.8 126.1-47.2L428.05 447c2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4c5.2-5.2 5.2-13.8 0-19zM26.95 192.3c0-91.2 74.2-165.3 165.3-165.3 91.2 0 165.3 74.2 165.3 165.3s-74.1 165.4-165.3 165.4c-91.1 0-165.3-74.2-165.3-165.4z"/>
        </svg>
        <input type="search" id="tipue_search_input" class="Search__field" placeholder="Search..." autocomplete="on"
               results=25 autosave=text_search>
    </div>

        <div class="Collapsible__content">
            <!-- Navigation -->
            <ul class='Nav'><li class='Nav__item Nav__item--open has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>chapter1-project-prologue</a><ul class='Nav'><li class='Nav__item Nav__item--active'><a href="../chapter1-project-prologue/animal-tracking.html">animal-tracking</a></li><li class='Nav__item '><a href="../chapter1-project-prologue/behavior-box.html">behavior-box</a></li><li class='Nav__item '><a href="../chapter1-project-prologue/closed-loop-diffuse-optogenetic-neuromodulation.html">closed-loop-diffuse-optogenetic-neuromodulation</a></li><li class='Nav__item '><a href="../chapter1-project-prologue/cnc-fabrication.html">cnc-fabrication</a></li><li class='Nav__item '><a href="../chapter1-project-prologue/intro.html">intro</a></li><li class='Nav__item '><a href="../chapter1-project-prologue/photo-absorption-modeling.html">photo-absorption-modeling</a></li><li class='Nav__item '><a href="../chapter1-project-prologue/spherical-treadmill.html">spherical-treadmill</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>chapter2-widefield-fluorescence-microscopy</a><ul class='Nav'><li class='Nav__item '><a href="../chapter2-widefield-fluorescence-microscopy/computer-workstation-build-and-configuration.html">computer-workstation-build-and-configuration</a></li><li class='Nav__item '><a href="../chapter2-widefield-fluorescence-microscopy/headplate-and-holder.html">headplate-and-holder</a></li><li class='Nav__item '><a href="../chapter2-widefield-fluorescence-microscopy/microscopy-1.html">microscopy-1</a></li><li class='Nav__item '><a href="../chapter2-widefield-fluorescence-microscopy/optical-window.html">optical-window</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>chapter3-image-processing-pipeline</a><ul class='Nav'><li class='Nav__item '><a href="../chapter3-image-processing-pipeline/image-processing.html">image-processing</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>chapter4-online-stream-processing</a><ul class='Nav'><li class='Nav__item '><a href="../chapter4-online-stream-processing/video-processing.html">video-processing</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>chapter5-developing-for-tomorrow</a><ul class='Nav'><li class='Nav__item '><a href="../chapter5-developing-for-tomorrow/cameras.html">cameras</a></li><li class='Nav__item '><a href="../chapter5-developing-for-tomorrow/compression.html">compression</a></li><li class='Nav__item '><a href="../chapter5-developing-for-tomorrow/data-scaling.html">data-scaling</a></li><li class='Nav__item '><a href="../chapter5-developing-for-tomorrow/distributed-dataflow-and-streaming.html">distributed-dataflow-and-streaming</a></li><li class='Nav__item '><a href="../chapter5-developing-for-tomorrow/information-and-informativity.html">information-and-informativity</a></li><li class='Nav__item '><a href="../chapter5-developing-for-tomorrow/microscopy-2.html">microscopy-2</a></li><li class='Nav__item '><a href="../chapter5-developing-for-tomorrow/sensors.html">sensors</a></li><li class='Nav__item '><a href="../chapter5-developing-for-tomorrow/siliskull.html">siliskull</a></li></ul></li><li class='Nav__item '><a href="../discussion.html">discussion</a></li><li class='Nav__item '><a href="../introduction.html">introduction</a></li></ul>

            <div class="Links">
                            </div>

                                <div class="CodeToggler">
                        <hr/>
                                                    <label class="Checkbox">Show Code Blocks                                <input type="checkbox" class="CodeToggler__button--main" checked="checked"/>
                                <div class="Checkbox__indicator"></div>
                            </label>
                                            </div>
                
                
                        </div>
    </aside>
    <div class="Columns__right Columns__right--full">
        <div class="Columns__right__content">
            <div class="doc_content">
                <article class="Page">

    <div class="Page__header">
        <h1><a href="../chapter1-project-prologue/animal-tracking.html">chapter1-project-prologue</a> <svg class="Page__header--separator" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 477.175 477.175"><path d="M360.73 229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1 0s-5.3 13.8 0 19.1l215.5 215.5-215.5 215.5c-5.3 5.3-5.3 13.8 0 19.1 2.6 2.6 6.1 4 9.5 4 3.4 0 6.9-1.3 9.5-4l225.1-225.1c5.3-5.2 5.3-13.8.1-19z"/></svg> <a href="../chapter1-project-prologue/animal-tracking.html">animal-tracking</a></h1>
                    </div>

    <div class="s-content">
        <h2 id="page_section_1">Animal Tracking</h2>
<!-- ## Automated Behavior Tracking: Mouse-Bowl Spin-Counter -->
<!-- #### Free Behavior with Video Tracking -->
<!-- ![](media/image8.jpeg){width="1.5in" height="1.2711318897637796in"} -->
<!-- ![](media/image9.tiff){width="2.0in" height="1.7125in"}![](media/image10.tiff){width="1.4986111111111111in"
height="1.5541666666666667in"} -->
<p>A webcam-based motion tracking box has been constructed to analyze the movement of our unilaterally lesioned PD mouse model. Video is recorded at 15 frames per second and processed on-line or off-line using a function written in MATLAB. Briefly, this function converts each frame to a black and white image (logical matrix), uses morphological filtering functions to isolate the mouse (remove mouse excrement) and identify its body (remove the tail), then finds the center of mass in cartesian coordinates (maximum center of projection on x- and y-axes), and the rostral-caudal orientation measured in degrees off the x-axis. Orientation is determined by the index of maximum of a radon transform of the binary image. Processing is accomplished at a rate of 15-16 fps, using a single core, or 64 fps using parallel processing on a quad-core processor with multi-threading enabled. The advantage of this apparatus over the virtual-reality system is that it allows free movement of an untrained mouse, with real-time movement metrics at nearly the same rate as the spherical treadmil</p>
<h3 id="page_section_2">Motion Sensors</h3>
<h4 id="page_section_3">Generic USB Computer Mouse with Minimal Linux</h4>
<p>Run &quot;mouse_relay.py&quot; on any computer running linux to send xy-data from 2 USB optical computer mice to another computer over an RS-232 serial-port connection. The receiving computer (in this implementation) uses MATLAB to read the values and translate the xy-values from 2 mice on the surface of a sphere into 3 values corresponding to rotation of that sphere around 3 orthogonal axes (XYZ) with their origin at the sphere's center.</p>
<p>RECEIVING FUNCTIONS: The MATLAB class that receives the serial input (xy-values from both mice) is called &quot;VrMovementInterface&quot;</p>
<p>The MATLAB function that translates the double-stream of xy-values from the sphere's surface into rotation around its center is called &quot;moveBucklin.m&quot; and is located in the VIRMEN &quot;movements&quot; folder.</p>
<p>SERIAL FORMAT: XY-Values are transmitted in 'packets' using an ascii formatted string terminated by a newline. Each packet contains the Sensor Number (s) that the reading is coming from, followed by the X-Value (dx), then the Y-Value (dy). The python code looks like the following:</p>
<blockquote>
<p>datastring = s + 'x'+dx + 'y'+dy + '\n'</p>
</blockquote>
<p>For example:</p>
<blockquote>
<p>s1x34y-3</p>
</blockquote>
<h4 id="page_section_4">Navigation Sensor Chip with Arduino</h4>
<p>Works with ADNS library (Mark Bucklin) to pass [dx,dy] measurements from two ADNS-9800 laser mouse sensors (placed 45-degrees apart on surface of styrofoam ball).</p>
    </div>

        <nav>
        <ul class="Pager">
            <li class=Pager--prev><a href="../index.html">Previous</a></li>            <li class=Pager--next><a href="../chapter1-project-prologue/behavior-box.html">Next</a></li>        </ul>
    </nav>
    </article>

            </div>
        </div>
    </div>
</div>

    
    <!-- JS -->
    <script src="../themes/daux/js/jquery-1.11.3.min.js"></script><script src="../themes/daux/js/highlight.pack.js"></script><script src="../themes/daux/js/daux.js"></script>
            <script>
            
            window.searchLanguage = "";
            window.searchTranslation = {"Search_one_result":"1 result","Search_results":"!count results","Search_no_results":"Nothing found","Search_common_words_ignored":"Common words are largely ignored","Search_too_short":"Search too short","Search_one_character_or_more":"Should be one character or more","Search_should_be_x_or_more":"Should be !min characters or more","Link_previous":"Previous","Link_next":"Next"};
        </script>

        <!-- Tipue Search -->
        <script type="text/javascript" src="../tipuesearch/tipuesearch.js"></script>

        <script>
            window.onunload = function(){}; // force $(document).ready to be called on back/forward navigation in firefox
            $(function() {
                tipuesearch({
                    'base_url': '../'
                });
            });
        </script>
    
</body>
</html>
